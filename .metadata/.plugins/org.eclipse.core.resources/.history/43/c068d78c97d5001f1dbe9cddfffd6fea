#include "STD_TYPES.h"
#include "BIT_MATH.h"
#include "../inc/TWI_interface.h"

void TWI_voidMasterInit(void)
{
	/*SCL CLOCK*/
TWBR_Reg =255;
TWSR_Reg->TWPSX=PRESCALER_BY_1;
/*ENABLE*/
TWCR_Reg->TWEN=1;
}

void TWI_voidStartCondition(void)
{
TWCR*Local_Variable;
Local_Variable->TWSTA=1;
Local_Variable->TWEN=1;
Local_Variable->TWINT=1;
TWCR_Reg->TWCR_8bit_Reg=Local_Variable;
while(GET_BIT(TWCR_Reg,TWCR_Reg->TWINT)==0);
}
void TWI_voidStopCondition(void)
{
	TWCR_Reg->TESTO=1;

	TWCR=(1<<TWSTO)|(1<<TWEN)|(1<<TWINT);
}
void TWI_voidSendData(uint8 Copy_u8Data)
{
TWDR=Copy_u8Data;
TWCR=(1<<TWEN)|(1<<TWINT);
while(GET_BIT(TWCR,TWINT)==0);
}
uint8 TWI_u8ReceiveData(void)
{
	TWCR=(1<<TWEN)|(1<<TWINT);
	while(GET_BIT(TWCR,TWINT)==0);
return TWDR;
}








