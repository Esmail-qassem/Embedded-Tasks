#include "STD_TYPES.h"
#include "BIT_MATH.h"
#include "TWI_interface.h"
#include "EEPROM_interface.h"


void EEPROM_voidSendData(u16 Copy_u16Address,uint Copy_uintData)
{
	/*1010(A2)(B1)(B0)(W/R)*/
	uint SLV_W=0b10100000;

	TWI_voidStartCondition();

	/*BLOCK SELECTION WITH WRITE*/
	TWI_voidSendData(SLV_W);

	/*BYTE SELECTION IN THE DESIRED BLOCK*/
	TWI_voidSendData((uint)Copy_u16Address);

	/*SENDING THE DATA*/
	TWI_voidSendData(Copy_uintData);

	TWI_voidStopCondition();
}

uint EEPROM_voidReceiveData(u16 Copy_u16Address)
{
	uint SLV_W=0b10100000;
	uint SLV_R=SLV_W+1;

	TWI_voidStartCondition();
	TWI_voidSendData(SLV_W);
	TWI_voidSendData((uint)Copy_u16Address);


	TWI_voidStartCondition();
	TWI_voidSendData(SLV_R);

	uint Data=TWI_uintReceiveData();

	TWI_voidStopCondition();
	return Data;
}
