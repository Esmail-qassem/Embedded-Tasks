#include "EEPROM/inc/EEPROM_interface.h"
void EEPROM_Init(void)
{
	TWI_voidMasterInit();
}

void EEPROM_voidSendData(uint16 Copy_u16Address,uint8 Copy_u8Data)
{
	/*1010(A2)(B1)(B0)(W/R)*/
	uint8 SLV_W=0b10100000;

	TWI_voidStartCondition();

	/*BLOCK SELECTION WITH WRITE*/
	TWI_voidSendData(SLV_W);

	/*BYTE SELECTION IN THE DESIRED BLOCK*/
	TWI_voidSendData((uint8)Copy_u16Address);

	/*SENDING THE DATA*/
	TWI_voidSendData(Copy_u8Data);
	TWI_voidStopCondition();

}

uint8 EEPROM_voidReceiveData(uint16 Copy_u16Address)
{
	uint8 SLV_W=0b10100000;
	uint8 SLV_R=SLV_W+1;

	TWI_voidStartCondition();
	TWI_voidSendData(SLV_W);
	TWI_voidSendData((uint8)Copy_u16Address);

	TWI_voidStartCondition();
	TWI_voidSendData(SLV_R);

	uint8 Data=TWI_u8ReceiveData();

	TWI_voidStopCondition();
	return Data;

}
